import{r as i,u as d,j as e}from"./index-8YLEdGs1.js";import{I as h}from"./Image-DQcIMa54.js";import{a as g}from"./apiRequest-njWK2yRt.js";import{u as x}from"./authStore-BvNQ3nRy.js";const b=()=>{const[a,t]=i.useState(!1),[s,l]=i.useState(""),m=d(),{setcurrentUser:c}=x(),o=async n=>{n.preventDefault();const u=new FormData(n.target),p=Object.fromEntries(u);try{const r=await g.post(`/users/auth/${a?"register":"login"}`,p);c(r.data),m("/")}catch(r){l(r.response.data.message)}};return e.jsx("div",{className:"Auth-page",children:e.jsxs("div",{className:"container",children:[e.jsx(h,{className:"logo",path:"/pinterest/logo/logo.jpeg",w:50,h:50,alt:"logo"}),e.jsxs("h2",{className:"header",children:[" ",a?"Join to our platform ":"Login to your account"," "]}),a?e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:o,className:"form",children:[e.jsx("input",{type:"text",name:"name",className:"name",id:"name",placeholder:"Type your name"}),e.jsx("input",{type:"text",required:!0,name:"username",className:"username",id:"username",placeholder:"Type your username"}),e.jsx("input",{type:"text",required:!0,name:"email",className:"email",id:"email",placeholder:"Type your E-mail"}),e.jsx("input",{type:"text",required:!0,name:"password",className:"password",id:"password",placeholder:"Create your password "}),e.jsx("button",{className:"btn btn-user",type:"submit",children:"Register"})]},"register"),e.jsxs("p",{className:"login-regis",onClick:()=>t(!1),children:["Do you have an account? ",e.jsx("b",{children:"Login"})]}),s&&e.jsx("p",{className:"error",children:s})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:o,className:"form",children:[e.jsx("input",{type:"text",required:!0,name:"email",className:"email",id:"email",placeholder:"Type your E-mail here to loging "}),e.jsx("input",{type:"text",required:!0,name:"password",className:"password",id:"password",placeholder:"Type your password here to loging "}),e.jsx("button",{className:"btn btn-user",type:"submit",children:"Login"})]},"login"),e.jsxs("p",{className:"login-regis",onClick:()=>t(!0),children:["Don't have an account? ",e.jsx("b",{children:"Register"})]}),s&&e.jsx("p",{className:"error",children:s})]})]})})};export{b as default};
